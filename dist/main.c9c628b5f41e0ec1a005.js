(()=>{"use strict";!function(){const e=document.querySelectorAll("video");let t=0;/iPhone|iPad|iPod|Android/i.test(navigator.userAgent),e.forEach(((e,n)=>{e.readyState>=4?(console.log(`buffered:${n}`),t++):(e.addEventListener("canplaythrough",(()=>{console.log(`can play through: ${n}`),t++,console.log(`loaded videos: ${t}`),e.play=!0})),e.addEventListener("error",(()=>{console.error(`Video failed to load: ${e.currentSrc}`),t++,alert("Awesome video failed to load: Refresh page!")})))}))}(),document.getElementById("home").addEventListener("click",(e=>{e.preventDefault(),document.body.scrollIntoView({behavior:"smooth",block:"start"})})),function(){const e=document.getElementById("dropdown-container"),t=document.getElementById("menu-button"),n=document.getElementById("menu-close-button"),o=document.getElementById("dropdown-menu"),r=document.querySelectorAll("li a");t.addEventListener("click",(e=>{e.target===e.currentTarget&&o.classList.add("visible")})),window.addEventListener("click",(t=>{const d=e.contains(t.target),l=t.target===n,a=Array.from(r).some((e=>e===t.target));(!d||l||a)&&o.classList.remove("visible")}))}(),function(){const e=document.getElementById("unmute"),t=document.getElementById("mute"),n=document.querySelector("video"),o=document.getElementById("volume-control");e.addEventListener("click",(o=>{o.target===o.currentTarget&&(t.classList.toggle("visible"),e.classList.remove("visible"),n.muted=!1)})),t.addEventListener("click",(r=>{r.target===r.currentTarget&&(e.classList.toggle("visible"),t.classList.remove("visible"),o.classList.toggle("visible"),n.muted=!0)})),n.addEventListener("click",(()=>{!1===n.muted?(e.classList.toggle("visible"),t.classList.remove("visible"),o.classList.remove("visible"),n.muted=!0):!0===n.muted&&(t.classList.toggle("visible"),e.classList.remove("visible"),o.classList.toggle("visible"),n.muted=!1)}))}(),function(){const e=document.querySelector("video"),t=document.getElementById("volume-control"),n=document.getElementById("unmute"),o=document.getElementById("mute");/iPhone|iPad|iPod|Android|webOS|BlackBerry|Windows Phone/i.test(navigator.userAgent)?t.style.display="none":(t.addEventListener("input",(()=>{e.volume=t.value})),n.addEventListener("click",(e=>{e.target===e.currentTarget&&t.classList.toggle("visible")})),o.addEventListener("click",(e=>{e.target===e.currentTarget&&t.classList.remove("visible")})))}(),function(){document.getElementById("dropdown-menu"),document.getElementById("menu-toggle");let e=0;document.addEventListener("touchend",(t=>{const n=(new Date).getTime();n-e<=300&&t.preventDefault(),e=n}),!1)}(),function(){const e=document.getElementById("counter"),t=new Date("May 26, 2025 17:00:00").getTime();for(let t=0;t<5;t++){const t=document.createElement("div");t.classList.add("counter-number"),e.appendChild(t)}for(let t=0;t<5;t++){const t=document.createElement("div");t.classList.add("counter-label"),e.appendChild(t)}const n=document.querySelectorAll(".counter-number"),o=document.querySelectorAll(".counter-label");o[0].innerHTML="months",o[1].innerHTML="days",o[2].innerHTML="hours",o[3].innerHTML="minutes",o[4].innerHTML="seconds";const r=setInterval((()=>{const e=(new Date).getTime(),o=t-e;if(o>0){const e=new Date,r=new Date(t),d=12*r.getFullYear()+r.getMonth()-(12*e.getFullYear()+e.getMonth()),l=Math.floor(o%2592e6/864e5),a=Math.floor(o%864e5/36e5),i=Math.floor(o%36e5/6e4),s=Math.floor(o%6e4/1e3),c=e=>e<10?"0"+e:e;n[0].innerHTML=c(d),n[1].innerHTML=c(l),n[2].innerHTML=c(a),n[3].innerHTML=c(i),n[4].innerHTML=c(s)}else{clearInterval(r);for(let e=0;e<n.length;e++)n[e].innerHTML="00";const e=document.getElementById("countdown-message");e&&(e.innerHTML="Today's the day!")}}),1e3)}(),function(){const e=document.getElementById("rsvp"),t=document.getElementById("rsvp-form-container"),n=document.getElementById("address");e.addEventListener("click",(()=>{if(n.remove(),document.getElementById("rsvp-form"))return;const e=document.createElement("form");e.id="rsvp-form";const o=document.createElement("label");o.setAttribute("for","name"),o.textContent="first and last name";const r=document.createElement("input");r.type="text",r.id="name",r.name="name",r.required=!0;const d=document.createElement("label");d.setAttribute("for","attending"),d.textContent="bringing plus 1?";const l=document.createElement("label");l.setAttribute("for","yes"),l.textContent="yes";const a=document.createElement("input");a.type="radio",a.id="yes",a.name="attending",a.value="yes",a.required=!0,l.appendChild(a);const i=document.createElement("label");i.setAttribute("for","no"),i.textContent="no";const s=document.createElement("input");s.type="radio",s.id="no",s.name="attending",s.value="no",i.appendChild(s);const c=document.createElement("label");c.setAttribute("for","diet"),c.textContent="dietary preference";const m=document.createElement("select");m.id="diet",m.name="diet";const u=document.createElement("option");u.value="anything",u.textContent="anything";const p=document.createElement("option");p.value="vegetarian",p.textContent="vegetarian";const g=document.createElement("option");g.value="vegan",g.textContent="vegan",m.appendChild(u),m.appendChild(p),m.appendChild(g);const v=document.createElement("label");v.setAttribute("for","phone"),v.textContent="phone number";const h=document.createElement("input");h.type="text",h.id="phone",h.name="phone";const y=document.createElement("label");y.setAttribute("for","email"),y.textContent="email address";const E=document.createElement("input");E.type="email",E.id="email",E.name="email",E.required=!0;const b=document.createElement("button");b.type="submit",b.textContent="submit",e.appendChild(o),e.appendChild(r),e.appendChild(d),e.appendChild(l),e.appendChild(i),e.appendChild(c),e.appendChild(m),e.appendChild(v),e.appendChild(h),e.appendChild(y),e.appendChild(E),e.appendChild(b),t.appendChild(e),e.scrollIntoView({behavior:"smooth",block:"start"}),e.addEventListener("submit",(n=>{n.preventDefault();const o=new FormData(e),r=o.get("email");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r))return void alert("Please enter a valid email address.");const d={name:o.get("name"),attending:o.get("attending"),diet:o.get("diet"),phone:o.get("phone"),email:r};console.log(d),fetch("https://nameless-sea-30482-cb8f6e5a10a5.herokuapp.com/submit-rsvp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}).then((e=>{if(!e.ok)throw new Error(`HTTP error! Status: ${e.status}`);return e.json()})).then((n=>{if(n.success){e.remove();const n=document.createElement("p");n.textContent="success! see you soon!",t.appendChild(n)}})).catch((e=>{console.error(e),alert("There was an error submitting your rsvp. Call me if this happens!")}))}))}),{once:!0})}()})();